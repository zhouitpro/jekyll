---
layout: post
title: Drupal 去掉评论的format选项
tags:
- Drupal
status: publish
type: post
published: true
meta:
  _edit_last: '1'
---
ty_blog是我的模块名称，这里可以替换成你的模块名或者theme名
<pre lang="PHP">
/**
 * Hook_form_comment_form_alter
 */
function ty_blog_form_comment_form_alter(&$form, &$form_state, &$form_id) {
  $form['comment_body']['#after_build'][] = 'ty_blog_customize_comment_form'; 
}

function ty_blog_customize_comment_form(&$form) {
    $form[LANGUAGE_NONE][0]['format']['#access'] = FALSE; // Note LANGUAGE_NONE, you may need to set your comment form language code instead   
    return $form; 
}
</pre>
